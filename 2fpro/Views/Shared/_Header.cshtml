@using _2fpro.ViewModel
@using _2fpro.HtmlHelpers.TagHelpers;
@using Microsoft.AspNetCore.Mvc.Razor.TagHelpers;
@inject _2fpro.Service.Interface.IMenuRepository _menuRep;
@inject _2fpro.Service.Repository.IDiagnosticService _diag;
@{
    var diag = await _diag.GetAsync(Context.User.Identity.Name);
    var islocal = Context.Request.IsLocalPath() ? false : true;
    var cachedTime = 20;
    var getMenu = await _menuRep.GetAsync(2);
}

@*<div class="navbar-header">
        <div class="container">
            <div class="row">
                <div class=" col-2" data-target="#cbp-spmenu-s1" id="showLeft">
                    <i class="fa fa-bars"></i>
                </div>

                <div class="navbar-brand col-10">
                    <a href="/"><img src="~/site/main/_2fpro--MAIN.png" width="50" /></a>
                </div>

            </div>
        </div>
    </div>
    <div class="header-nav__main">
        <nav class="n-bmenu hidden-sm-up cbp-spmenu cbp-spmenu-vertical cbp-spmenu-left" id="cbp-spmenu-s1">

            меню
            <navigation info="new MenuViewModel{MenuSection=0}" />
            @await Component.InvokeAsync("MenuItems", new { menuSection = 0 })
            @await Component.InvokeAsync("CatItems")
        </nav>

      <cache expires-after="@TimeSpan.FromMinutes(30)" enabled="@islocal">
                                @await Component.InvokeAsync("StaticSections", new { type = 1 })
                            </cache>

    </div>*@
@{var sidebarColor = false; }
@if ((bool)ViewData["type"])
{
    sidebarColor = true;
}
<nav id="header" class="navbar navbar-default  navbar-expand-xl navbar-dark">
    <div class="nav-wrap d-flex align-items-center">
       
        <div class="d-block  burger-nav open-overlay" type="button" aria-label="Toggle navigation">
            <input type="checkbox" id="menyAvPaa" />
            <label id="burger" for="menyAvPaa">
                <div></div>
                <div></div>
                <div></div>
            </label>
        </div>

        <div class="navbar-brand brand-item" href="#"><img src="/Content/images/logo1.png" /></div>
        @*<div class="logo-sp d-block d-sm-none">
            <a class=" navbar-brand" href="/"><img width="80" src="/Content/images/logo-small.png" /></a>
        </div>*@
        <script>
           $(function () {
                $('.head-btn-act').hover(function () {
                  
                    $('.head-btn-closed').fadeIn(400);
                });
               $('.header-btn').on('mouseleave', function () {
                   $('.head-btn-closed').fadeOut(400);
               });
               $('.burger-nav').on('click',function (e) {
                   e.preventDefault();
                   //if (!$('.burger-nav').hasClass('collapsed-nav')) {
                   $('body').addClass('noscroll');
                   $('#navbar-main').fadeToggle(200);
                   //} else {
                     //  $('.burger-nav').removeClass('collapsed-nav');
                       //$('#navbar-main').fadeOut(400);
                   //}
                   
               });
               $('.pmenu-close').on('click', function (e) {
                   $('body').removeClass('noscroll');
                   e.preventDefault();
                   //if (!$('.burger-nav').hasClass('collapsed-nav')) {
                  
                   $('#navbar-main').fadeToggle(200);
                   //} else {
                   //  $('.burger-nav').removeClass('collapsed-nav');
                   //$('#navbar-main').fadeOut(400);
                   //}

               });



               
           });
          
        </script>
        <div class=" navbar-main justify-content-end d-none d-lg-block">

          
            <div class="header-btn">

                <div class="head-btn-closed"> @await Component.InvokeAsync("StaticSections", new { type = 2 }) </div>
                <div  class="head-btn-closed head-btn-cont " data-content-type="feedForm">
                    <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 90"><defs><style>
                                                                                                                           .cls-11 {
                                                                                                                               opacity: 0.2;
                                                                                                                           }

                                                                                                                           .cls-21 {
                                                                                                                               fill: #fff;
                                                                                                                           }
                    </style></defs><title>2fpro-vopros</title><rect class="cls-11" width="90" height="90" /><path class="cls-21" d="M44.32,51l-.08-1A9.18,9.18,0,0,1,46.72,43c1.8-2.12,2.8-3.68,2.8-5.48,0-2-1.28-3.4-3.8-3.44a7.11,7.11,0,0,0-4,1.24l-1-2.52a10.49,10.49,0,0,1,5.72-1.6c4.6,0,6.68,2.84,6.68,5.88,0,2.72-1.52,4.68-3.44,7-1.76,2.08-2.4,3.84-2.28,5.88l0,1Zm-.88,5.6a2.36,2.36,0,0,1,2.4-2.52,2.5,2.5,0,1,1-2.4,2.52Z" transform="translate(0)" /></svg>
                </div>
                <div class="head-btn-cont head-btn-act">
                    <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 90"><defs><style>
                                                                                                                           .cls-1 {
                                                                                                                               opacity: 0.2;
                                                                                                                           }

                                                                                                                           .cls-2 {
                                                                                                                               fill: none;
                                                                                                                               stroke: #fff;
                                                                                                                               stroke-miterlimit: 10;
                                                                                                                               stroke-width: 0.8px;
                                                                                                                           }

                                                                                                                           .cls-3 {
                                                                                                                               fill: #fff;
                                                                                                                           }
                    </style></defs><title>2fpro</title><rect class="cls-1" width="90" height="90" /><rect class="cls-2" x="16" y="16" width="58" height="58" /><polygon class="cls-3" points="56 44.19 56 45.06 45.94 45.06 45.94 55.13 45.06 55.13 45.06 45.06 35 45.06 35 44.19 45.06 44.19 45.06 35 45.94 35 45.94 44.19 56 44.19" /></svg>
                </div>
            </div>
        </div>

    </div>
     
</nav>



